<!DOCTYPE html>
<html>
    <link rel="stylesheet" href="Scripts/css/bootstrap.min.css">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width">
	<title>Previsualizar imagen</title>
</head>

<body>
    <h1>Previsualización de Banner Lateral</h1>
    <p>- El tamaño del banner debe de ser 185x753 pixeles, tambien debe de ser archivo png</p>
	<p>- jpg, jpeg o png, cualquier otro tipo será rechazado</p>
    
	<img id="imgPreview">

	<form action="#"
            method="POST"
            enctype="multipart/form-data">

    		<input type="file" id="fileInput" accept="image/*" onchange="previewImage(event, '#imgPreview')">
    		
		</form>
		<button id="submitButton" onclick="location.href='compra_confirmacion.html';" class="btn btn-primary" disabled>Subir Banner y pagar</button>

    <script src="BannerLateral1.js"></script>
    <script>
        document.getElementById('fileInput').addEventListener('change', function() {
            if (this.value) {
                document.getElementById('submitButton').disabled = false;
            } else {
                document.getElementById('submitButton').disabled = true;
            }
        });

        function previewImage(event, imgElementId) {
            var file = event.target.files[0];
            var reader = new FileReader();
            reader.onload = function(e) {
                var image = new Image();
                image.src = e.target.result;
                image.onload = function() {
                    if (this.width != 185 || this.height != 753 || !['image/png', 'image/jpeg', 'image/jpg'].includes(file.type)) {
                        alert('La imagen no cumple con los requisitos');
                        document.getElementById('submitButton').disabled = true;
                    } else {
                        document.querySelector(imgElementId).src = this.src;
                    }
                };
            };
            reader.readAsDataURL(file);
        }
    </script>
  </body>
</html>

